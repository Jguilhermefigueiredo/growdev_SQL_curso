/*script para associar todos os integrantes da família Simpsons*/
insert into matricula(data_associacao, pessoa_id) values ('08/28/2025',2);
insert into matricula(data_associacao, pessoa_id) values ('01/10/2025',1);
insert into matricula(data_associacao, pessoa_id) values ('09/25/2025',3);
insert into matricula(data_associacao, pessoa_id) values ('07/13/2025',4);
insert into matricula(data_associacao, pessoa_id) values ('12/09/2025',5);

/* script de criação da tabela*/
create table
MENSALIDADE(
DT_VENCIMENTO DATE NOT NULL,
VLR_MENSALIDADE REAL NOT NULL,
DT_PAGAMENTO DATE,
VLR_PAGO REAL,
VLR_MULTA REAL NOT NULL,
VLR_JUROS REAL,
MATRICULA_ID INT REFERENCES MATRICULA(ID) NOT NULL
);

/*10 mensalidades para cada integrante da família*/
INSERT INTO MENSALIDADE (MATRICULA_ID, VLR_MENSALIDADE, DT_VENCIMENTO, DT_PAGAMENTO, VLR_PAGO, VLR_MULTA, VLR_JUROS) VALUES
(1, 100.00, '01/10/2025', '01/10/2025', 100.00, 0.00, 0.00),
(1, 100.00, '02/10/2025', '02/12/2025', 102.00, 2.00, 0.00),
(1, 100.00, '03/10/2025', '03/15/2025', 106.00, 2.00, 4.00),
(1, 100.00, '04/10/2025', '04/11/2025', 101.00, 1.00, 0.00),
(1, 100.00, '05/10/2025', '05/10/2025', 100.00, 0.00, 0.00),
(1, 100.00, '06/10/2025', '06/18/2025', 110.00, 2.00, 8.00),
(1, 100.00, '07/10/2025', '07/12/2025', 103.00, 2.00, 1.00),
(1, 100.00, '08/10/2025', '08/10/2025', 100.00, 0.00, 0.00),
(1, 100.00, '09/10/2025', '09/20/2025', 112.00, 2.00, 10.00),
(1, 100.00, '10/10/2025', '10/11/2025', 101.00, 1.00, 0.00);

INSERT INTO MENSALIDADE (MATRICULA_ID, VLR_MENSALIDADE, DT_VENCIMENTO, DT_PAGAMENTO, VLR_PAGO, VLR_MULTA, VLR_JUROS) VALUES
(2, 100.00, '01/10/2025', '01/10/2025', 100.00, 0.00, 0.00),
(2, 100.00, '02/10/2025', '02/12/2025', 102.00, 2.00, 0.00),
(2, 100.00, '03/10/2025', '03/15/2025', 106.00, 2.00, 4.00),
(2, 100.00, '04/10/2025', '04/11/2025', 101.00, 1.00, 0.00),
(2, 100.00, '05/10/2025', '05/10/2025', 100.00, 0.00, 0.00),
(2, 100.00, '06/10/2025', '06/18/2025', 110.00, 2.00, 8.00),
(2, 100.00, '07/10/2025', '07/12/2025', 103.00, 2.00, 1.00),
(2, 100.00, '08/10/2025', '08/10/2025', 100.00, 0.00, 0.00),
(2, 100.00, '09/10/2025', '09/20/2025', 112.00, 2.00, 10.00),
(2, 100.00, '10/10/2025', '10/11/2025', 101.00, 1.00, 0.00);

INSERT INTO MENSALIDADE (MATRICULA_ID, VLR_MENSALIDADE, DT_VENCIMENTO, DT_PAGAMENTO, VLR_PAGO, VLR_MULTA, VLR_JUROS) VALUES
(3, 100.00, '01/10/2025', '01/10/2025', 100.00, 0.00, 0.00),
(3, 100.00, '02/10/2025', '02/12/2025', 102.00, 2.00, 0.00),
(3, 100.00, '03/10/2025', '03/15/2025', 106.00, 2.00, 4.00),
(3, 100.00, '04/10/2025', '04/11/2025', 101.00, 1.00, 0.00),
(3, 100.00, '05/10/2025', '05/10/2025', 100.00, 0.00, 0.00),
(3, 100.00, '06/10/2025', '06/18/2025', 110.00, 2.00, 8.00),
(3, 100.00, '07/10/2025', '07/12/2025', 103.00, 2.00, 1.00),
(3, 100.00, '08/10/2025', '08/10/2025', 100.00, 0.00, 0.00),
(3, 100.00, '09/10/2025', '09/20/2025', 112.00, 2.00, 10.00),
(3, 100.00, '10/10/2025', '10/11/2025', 101.00, 1.00, 0.00);

INSERT INTO MENSALIDADE (MATRICULA_ID, VLR_MENSALIDADE, DT_VENCIMENTO, DT_PAGAMENTO, VLR_PAGO, VLR_MULTA, VLR_JUROS) VALUES
(4, 100.00, '01/10/2025', '01/10/2025', 100.00, 0.00, 0.00),
(4, 100.00, '02/10/2025', '02/12/2025', 102.00, 2.00, 0.00),
(4, 100.00, '03/10/2025', '03/15/2025', 106.00, 2.00, 4.00),
(4, 100.00, '04/10/2025', '04/11/2025', 101.00, 1.00, 0.00),
(4, 100.00, '05/10/2025', '05/10/2025', 100.00, 0.00, 0.00),
(4, 100.00, '06/10/2025', '06/18/2025', 110.00, 2.00, 8.00),
(4, 100.00, '07/10/2025', '07/12/2025', 103.00, 2.00, 1.00),
(4, 100.00, '08/10/2025', '08/10/2025', 100.00, 0.00, 0.00),
(4, 100.00, '09/10/2025', '09/20/2025', 112.00, 2.00, 10.00),
(4, 100.00, '10/10/2025', '10/11/2025', 101.00, 1.00, 0.00);

INSERT INTO MENSALIDADE (MATRICULA_ID, VLR_MENSALIDADE, DT_VENCIMENTO, DT_PAGAMENTO, VLR_PAGO, VLR_MULTA, VLR_JUROS) VALUES
(5, 100.00, '01/10/2025', '01/10/2025', 100.00, 0.00, 0.00),
(5, 100.00, '02/10/2025', '02/12/2025', 102.00, 2.00, 0.00),
(5, 100.00, '03/10/2025', '03/15/2025', 106.00, 2.00, 4.00),
(5, 100.00, '04/10/2025', '04/11/2025', 101.00, 1.00, 0.00),
(5, 100.00, '05/10/2025', '05/10/2025', 100.00, 0.00, 0.00),
(5, 100.00, '06/10/2025', '06/18/2025', 110.00, 2.00, 8.00),
(5, 100.00, '07/10/2025', '07/12/2025', 103.00, 2.00, 1.00),
(5, 100.00, '08/10/2025', '08/10/2025', 100.00, 0.00, 0.00),
(5, 100.00, '09/10/2025', '09/20/2025', 112.00, 2.00, 10.00),
(5, 100.00, '10/10/2025', '10/11/2025', 101.00, 1.00, 0.00);

/*Script para consultar as mensalidades*/
SELECT MATRICULA.ID AS "Código associado",
		PESSOA.NOME AS"Associado",
		MENSALIDADE.VLR_MENSALIDADE AS "Valor mensalidade",
		MENSALIDADE.DT_VENCIMENTO AS "Data de vencimento"

FROM MENSALIDADE

INNER JOIN MATRICULA ON MENSALIDADE.MATRICULA_ID = MATRICULA.ID
INNER JOIN PESSOA on PESSOA.ID = MATRICULA.PESSOA_ID